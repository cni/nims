<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:py="http://genshi.edgewall.org/"
	xmlns:xi="http://www.w3.org/2001/XInclude">

<xi:include href="master.html" />

<head>
    <link rel="stylesheet" type="text/css" href="../css/search.css" />
    <title>NIMS Search</title>

    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"
	    py:if="False" />
    <script data-main="${tg.url('/javascript/search')}"
	    src="${tg.url('/javascript/require.js')}"></script>
    <script type="text/javascript" src="../javascript/jquery.qtip-1.0.0-rc3.min.js"></script>
    <script
	    src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
</head>

<body>
	<div id="epochs_pop" class="pop" style="display: none">
		<iframe src="" frameborder="no" />
	</div>
	<div id="datasets_pop" class="pop" style="display: none">
		<iframe id="edit_dataset_iframe" src="" frameborder="no" />
	</div>
    <!-- Banner used to show the error from js validation -->
    <div id='bannerjs'>
        <div class='hide' id="bannerjs-emptyfields">
        </div>
        <div class='hide' id="bannerjs-errorstring">
        </div>
        <div class='hide' id="bannerjs-errorints">
        </div>
    </div>
        <!-- Banner used to show no results  -->
        <div class='hide' id='bannerpy'>
            <div id="bannerpy-content">

            </div>
        </div>

	<form id="search_form" accept-charset="UTF-8">
		<table id="query_table" cellpadding="0" cellspacing="0">


            <tr id='dataset_div'>
               <h2> NIMS Search</h2> You are currently searching <b><span id="restricted_datasets">${userdataset_cnt} / </span>${dataset_cnt}</b  > datasets.
                   <span id='db_choice'>
                       <input id='data_checkBox' type="checkbox" name='choose_db' value='any_data'/> Search all datasets
                   </span>
             </tr>
            <tr class='first_row'>
                <td>
                    <span class='first_name' value='first_name'>
                        Subject Name&nbsp;<input id='first_name' type='text' name='subject_name' placeholder='First Name' size='15'/>
                    </span>
                    <span class='last_name' value='last_name'>
                        <input class='required' id='last_name' type='text' name='subject_last_name' placeholder='Last Name' size='15'/>
                    </span>
                </td>
                <td>
                    <span id='scan_type' name="search_param" value='scan_type'>
                        Scan Type &nbsp;
                        <select class="scantype" name='search_typescan'>
                            <option py:for="value in scantype_values" >${value}</option>
                        </select>
                    </span>
                </td>
                    <td>
                        <span id="dates">
                            <span value='date_from'><label for="date_from">Date from&nbsp;</label> <input class='required' type="text"
                                size="10" id="date_from" name="date_from" /></span>
                            <span value='date_to'><label for="date_to">to&nbsp;</label> <input class='required' type="text"
                                size="10" id="date_to" name="date_to" /></span>
                        </span>
                    </td>
            </tr>
        </table>
        <table>
            <tr>
                <td>
                    <span id='psd' name="search_param" value='psd_name'>
                        PSD Name &nbsp;
                        <select class="psd_values" name='search_psdName'>
                            <option py:for="value in psd_values" >${value}</option>
                        </select>
                    </span>
                </td>
                <td>
                    <span id='operator' name="search_param" value='operator'>
                        Operator &nbsp;
                        <input class='required' name='search_operator' type='text' size='20'>
                        </input>
                        <div class='field_information' id='operator_information'>SUNetID of operator</div>
                    </span>
                </td>
                    <td>
                        <span id='age' name="search_param" value='age'>
                            Subject Age &nbsp;
                            <input class='required' name='search_age' type='text' size='20'>
                            </input>
                            <div class='field_information' id='age_information'>e.g.= &gt;10, &lt;50, 10 to 30</div>
                        </span>
                    </td>
                    <td>
                        <span id='exam' class='search_param' name="search_param" value='Exam'>
                            Exam &nbsp;
                            <input class='required' name='search_exam' type='text' size='20'>
                            </input>
                            <div class='field_information' id='exam_information'>e.g.= 1, 99999</div>
                        </span>
                    </td>
            </tr>
        </table>
            <div id='submitDiv'>
                <span><input type="submit" id="submit" value="Search" /></span>
                <span>
                    <p id="n_results"></p>
                </span>
            </div>
	</form>
	<table id="epochs" class="scrolltable" style="visibility: hidden">
		<thead>
			<tr>
				<py:for each="col in epoch_columns">
					<th py:with="name, cls = col" class="${cls}">${name}</th>
				</py:for>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
	<table id="datasets" class="scrolltable" style="visibility: hidden">
		<thead>
			<tr>
				<py:for each="col in dataset_columns">
					<th py:with="name, cls = col" class="${cls}">${name}</th>
				</py:for>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
</body>
</html>
